{
  "hash": "1640fe8a370d66d410c29150f405e69c",
  "result": {
    "engine": "knitr",
    "markdown": "# Introduction to R\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIn this course, you will explore the versatility of R, a powerful language for statistical computing and graphics. You will discover the benefits of using R and get started with the basics, and fain confidence with the user-friendly R Studio interface and learn fundamental R concepts. You will also dive into the Tidyverse, a collection of packages for data storage, visualisation and manipulation. This course offers a solid foundation to kickstart your journey with R!\n\nThis book is designed to accompany the Introduction to R training that is starting at KNBS. To complete this course, you will need to have [R Studio](https://posit.co/download/rstudio-desktop/) installed on your computer.\n\nIf youâ€™re running through this book solo, it is recommended to run through it in order and try out all the of the exercises as you go through. Each exercise has a **Solution** dropdown, which allows you to view prompts to help with the question and see the answers.\n\n## Session aims\n\n-   navigate the R and R Studio environment\n-   understand and use the common R functions for data manipulation\n-   understand the basics of data visualisation using the ggplot2 package\n-   understand the term *tidy data* and why it is important for writing efficient code\n\n## What is R?\n\nR is an open-source programming language and software environment, designed primarily for statistical computing. It has a long history - it is based on the S language, which was developed in 1976 in Bell Labs, where the UNIX operating system and the C and C++ languages were developed. The R language itself was developed in the 1990s, with the first stable version release in 2000.\n\nR has grown rapidly in popularity particularly in the last five years, due to the increased interest in the data science field. It is now a key tool used by analysts in governments globally.\n\nSome of the advantages:\n\n-   It is **popular** - there is a large, active and rapidly growing community of R programmers, which has resulted in a plethora of resources and extensions.\n-   It is **powerful** - the history as a statistical language means it is well suited for data analysis and manipulation.\n-   It is **extensible** - there are a vast array of **packages** that can be added to extend the functionality of R, produced by statisticians and programmers around the world. These can range from obscure statistical techniques to tools for making interactive charts.\n-   It's **free and open source** - a large part of its popularity can be owed to its low cost, particularly relative to proprietary software such as SAS or STATA.\n\n## Introducing RStudio\n\nRStudio is an integrated development environment (IDE) for R. You don't have to use an IDE but it's strongly advised as it provides a user-friendly interface to work with. RStudio has four main panels;\n\n1.  **Script Editor** (top left) - used to write and save your code, which is only run when you explicitly tell RStudio to do so.\n2.  **Console** (bottom left) - all code is run through the console, even the code you write in the script editor is sent to the console to be run. It's perfect for quickly viewing data structures and help for functions but should not be used to write code you want to save (that should be done in the script editor).\n3.  **Environment** (top right) - all data, objects and functions that you have read in/created will appear here.\n4.  **Files/Plots/Help** (bottom right) - this pane groups a few miscellaneous areas of RStudio.\n    -   *Files* acts like the windows folder to navigate between files and folders.\n    -   *Plots* shows any graphs that you generate.\n    -   *Packages* let's you install and manage packages currently in use.\n    -   *Help* provides information about packages or functions, including how to use them.\n    -   *Viewer* is essentially RStudio's built-in browser, which can be used for web app development.\n\nYou may have noticed that your Script Editor is bigger than the Console or your Environment has suddenly disappeared. In RStudio, you can adjust the size of different panes by clicking and dragging the dividers between them. If you want to maximize a specific pane, such as the Script Editor, use the shortcut **Ctrl + Shift + 1** (Windows/Linux) or **Cmd + Shift + 1** (Mac) to focus on it. To restore the default layout, press **Ctrl + Shift + 0** (Windows/Linux) or **Cmd + Shift + 0 (Mac)**. You can also use the **View** menu to toggle different panes on and off, ensuring your workspace suits your needs.\n\nIf you find the text difficult to read or prefer a different appearance, you can customise the **theme**, **font**, and **text size** in RStudio. Go to `Tools` \\> `Global Options` \\> `Appearance`, where you can choose from different editor themes (e.g., light or dark mode), adjust the font type, and increase or decrease the text size for better readability. These changes can help make coding more comfortable, especially during long sessions.\n\n### Recommended Changes\n\nWhile not necessary, certain changes are almost always recommended for visibility reasons. These include: - Choosing a different theme, as Textmate can be hard on the eyes. This can be done in `Tools` \\> `Global Options` \\> `Appearance` \\> `Editor theme:`. - Highlight R function calls. This makes functions look a different colour than normal text, which can make reading your code much easier. This can be done in `Tools` \\> `Global Options` \\> `Code` \\> `Display` \\> `Highlight R function calls`. - Use Rainbow Parenthesis. This makes each pair of () in a line a different colour, which can help you catch if you're missing one and it's breaking your code. This can be done in `Tools` \\> `Global Options` \\> `Code` \\> `Display` \\> `Use rainbow parenthesis`.\n\n## Basic Syntax\n\n### Exercise\n\n`<div class=\"countdown\" id=\"timer_26311340\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;position: relative; width: min-content;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>`{=html}\n\nAs a quick exercise, try out some arithmetic in your console:\n\n1.  25 \\* 15\n2.  (45 + 3) \\^ 2\n3.  78 / 4\n\nNow open a new script (File -\\> New File -\\> R Script) and save it as Intro.R\n\n1.  Repeat the above exercises. What happens when you hit enter? Try using `Ctrl` + `Enter`\n\n<details>\n\n<summary style=\"font-size: 20px; font-weight: bold;\">\n\n1.4.1. Solution</strong>\n\n</summary>\n\n<br>\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n25 * 15\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 375\n```\n\n\n:::\n\n```{.r .cell-code}\n(45 + 3) ^ 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2304\n```\n\n\n:::\n\n```{.r .cell-code}\n78 / 4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 19.5\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n</details>\n\n<br>\n\n### The assignment operator\n\nR uses the assignment operator `<-` to assign values or data frames to objects. The object name goes on the left, with the object value on the right. For example, `x <- 5` assigns the value 5 to the object `x`. You can quickly type the assignment operator in RStudio by pressing `Alt` + `-` (Windows) or `Option` + `-` (Mac).\n\nOther programming languages tend to use `=`. The equals sign is used in R but for other purposes, as you'll find out later. Note: `=` will actually work for assignment in R but it is not convention.\n\n### Exercise\n\n`<div class=\"countdown\" id=\"timer_c1a3a6d3\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;position: relative; width: min-content;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>`{=html}\n\n1.  Create an object x1 with a value of 14\n2.  Create an object x2 with a value of x1 + 7\n3.  Check the value of x2 by looking in the environment pane\n4.  Create an object x3 equal to x2 divided by 3.\n\n<details>\n\n<summary style=\"font-size: 20px; font-weight: bold;\">\n\n1.4.3. Solution</strong>\n\n</summary>\n\n<br>\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx1 <- 14\nx1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 14\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nx2 <- x1 + 7\nx2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 21\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nx3 <- x2 / 3\nx3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n</details>\n\n<br>\n\n### Combining using `c()`\n\nSo how do you assign more than one number to an object? Typing `x <- 1,2,3` will throw an error. The way to do it is to combine the values into a vector before assigning. For example, `x <- c(1, 2, 3)`.\n\nNote: all elements of a vector must be of the same type; either numeric, character, or logical. Vector types are important, but they aren't interesting, which is why they aren't covered on this course. We advise you to [read about vectors](https://r4ds.had.co.nz/vectors.html) in your own time.\n\n### Exercise\n\n`<div class=\"countdown\" id=\"timer_f8dbc96e\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;position: relative; width: min-content;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>`{=html}\n\n1.  Use the combine function to create a vector with values 1, 2 and 3.\n2.  What happens when you write `1:10` inside `c()`?\n3.  What happens if you try to create a vector containing a number such as 2019 and the word \"year\"?\n\n<details>\n\n<summary style=\"font-size: 20px; font-weight: bold;\">\n\n1.4.5. Solution</strong>\n\n</summary>\n\n<br>\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#1. combine c() to create vector with values 1,2,3\nx <- c(1, 2, 3)\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3\n```\n\n\n:::\n\n```{.r .cell-code}\n#2. combine c() with 1:10\nx <- c(1:10)\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  1  2  3  4  5  6  7  8  9 10\n```\n\n\n:::\n\n```{.r .cell-code}\n#3. Incorrect code: will throw an error\nx <- c(2019, year)\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n[1] 2019\n\n[[2]]\nfunction (x) \n{\n    UseMethod(\"year\")\n}\n<bytecode: 0x1279176a0>\n<environment: namespace:lubridate>\n```\n\n\n:::\n\n```{.r .cell-code}\n#3. Correct code\nx <- c(2019, \"year\")\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"2019\" \"year\"\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n</details>\n\n<br>\n\n## Functions\n\nFunctions are one of the most important aspects of any programming language. Functions are essentially just R scripts that other R users have created. You could write a whole project without using any functions, but why would we when others have done the hard work for us? To demonstrate how using functions can save us time let's look at an example.\n\nImagine you had the following data for test scores of students and you wanted to find the mean score:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest_scores <- c(70, 68, 56, 88, 42, 55)\n```\n:::\n\n\n\n\n\n\n\n\nWe could extract each individual score from the data frame, add them together and then divide them by the number of elements:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(test_scores[1] + test_scores[2] + test_scores[3] + test_scores[4] + test_scores[5] + test_scores[6]) / 6\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 63.16667\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nThis gives us the mean score of 63.2. But that's pretty tedious, especially if our data set was of any significant size. To overcome this we can use a function called `mean()`. To read about a function in R type `help(\"function_name\")` or `?function_name` in the console. By reading the help file we see that `mean()` requires an R object of numerical values. So we can pass our `test_scores` data as the argument:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(test_scores)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 63.16667\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nNot only does this save us time, it makes the code far more readable. While the two approaches above return the same answer, the use of the function makes our intention immediately clear. It's important to remember it's not just you that will be using and reading your code.\n\nThe values you passed to the mean function are known as `arguments`. Most functions require one or more arguments in order to work, and details of these can be seen by checking the help file.\n\nRunning `?mean` shows us that the function mean has three arguments; `x`, `trim` and `na.rm`. You can pass these arguments to a function either by position or name. If you name the arguments in the function, R will use the values for the arguments they've been assigned to, e.g.:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(x = c(1, 2, 3),\n     trim = 0,\n     na.rm = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nIf you don't provide names for the arguments, R will just assign them in order, with the first value going to the first argument, etc:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(c(1, 2, 3), #These are used for the first argument, x\n     0, #This is used for the second argument, trim\n     FALSE) #This is used for the third argument, na.rm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\nIt is good practice to use names to assign any arguments after the first one or two, to avoid confusion and mistakes!\n\nYou will notice that the first time we called the `mean` function, we didn't have to specify values for either `trim` or `na.rm`. if you check the help file, you'll notice that `trim` and `na.rm` have default values:\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(x, trim = 0, na.rm = FALSE)\n```\n:::\n\n\n\n\n\n\n\n\nWhen arguments have default values like this, they will use these if you don't provide an alternative. There is no default value for x, so if you don't provide a value for x the function will return an error.\n\n### Exercise\n\n`<div class=\"countdown\" id=\"timer_59075e98\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;position: relative; width: min-content;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>`{=html}\n\n1.  Look at the help for the `sum()` function. What does it do?\n2.  How many arguments does the `sum()` function have? How many of these have default values?\n3.  Try summing up the values 1 to 8 using this function.\n\n<details>\n\n<summary style=\"font-size: 20px; font-weight: bold;\">\n\n1.5.1. Solution</strong>\n\n</summary>\n\n<br>\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#1. using sum() function\n?sum()\n\n#2.sum() has two arguments: a numeric value or logical vector and 'na.rm'\n# whether missing values (NA) should be removed (TRUE or FALSE)\n# by default, NA values are ignored (i.e. na.rm = TRUE)\n\n#3. summing values 1 to 8 using sum()\nsum(1:8, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 36\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n</details>\n\n<br>\n\n## Packages\n\nBeing open-source means R has an extensive community of users that are building and improving packages for others. Base R covers a lot of useful functions but there's lots it doesn't, that's when we want to install packages. Each package contains a number of functions, once we install a package we have access to every one of it's functions.\n\nPackages need to be both installed and loaded before they can be used. You only need to install a package the first time you use it, but you will need to load it every time you want to use it.\n\nStart by opening RStudio, which is an integrated development environment (IDE) for R. You don't have to use an IDE but it's strongly advised as it provides a user-friendly interface to work with.\n\nTo install a package locally, run `install.packages(\"package_name\")`, making sure the package name is wrapped in quotation marks. The code below will install the `tidyverse` package, which is actually a collection of data manipulation and presentation packages.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"tidyverse\")\n```\n:::\n\n\n\n\n\n\n\n\nOnce installed, you can load the packages using the `library()` function. Unlike installing packages, you don't need to wrap package names in quotation marks inside a library call.\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n\n\n\n\n\nTo know more about a package, it is always useful to read the associated documentation. You can do this by adding a `?` in front of the name of any package or function, and running this in the console\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?tidyverse\n\n?select\n```\n:::\n\n\n\n\n\n\n\n\n## The Tidyverse\n\nWhile base R has a wide range of functions for data manipulation and visualisation, most analytical code will make use of **the tidyverse**. This is a specific group of packages which are designed for use in the reading, processing and visualisation of data, and aim to be easy to use for beginner coders and clear to read and write. It is recommended to use the tidyverse packages wherever possible to make code consistent.\n\nThis training course will therefore make extensive use of tidyverse packages including `dplyr`, `ggplot2` and `tidyr`.\n\nThe following exercise should be completed by those who are running through the course solo.\n\n### Exercise\n\n1.  Install the tidyverse package in your Console (do you remember where this is?!)\n2.  Load the tidyverse library at the top of your `Intro.R` script.\n\n<details>\n\n<summary style=\"font-size: 20px; font-weight: bold;\">\n\n1.7.1. Solution</strong>\n\n</summary>\n\n<br>\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/tidyverse.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n\n\n\n\n</details>\n\n<br>\n\nThis is a good opportunity to take a 10-minute break away from the computer to refresh your mind, stretch, and reset before continuing onto Chapter 2.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}